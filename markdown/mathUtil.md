# 数字工具使用说明

## mathUtil
`mathUtil`提供了数字的运算方法,解决数字精度丢失(浮点数精度问题)的一些典型问题;

下面示例中有列举一些使用简单运算符精度丢失与调用`mathUtil`方法不丢失的对比，基本上能解决因浮点数精度丢失的问题;

### 方法
- accMul(乘法)

| 参数              | 描述                      |
| ----------------- | -------------------------| 
| `arg1`       | 必传    数字|
| `arg2`       | 必传    数字 |
| `decimals`       | 可选、保留小数位数，正整数，如果没有传，保留原始位数      |

示例
```$xslt
19.9 * 100  // 1989.9999999999998
mathUtil.accMul(19.9, 100) // 1990
mathUtil.accMul(19.9, 100, 2) // 1990

0.11*1.1 // 0.12100000000000001
mathUtil.accMul(0.11, 1.1)// 0.121
```

- accDiv(除法)

| 参数              | 描述                      |
| ----------------- | -------------------------| 
| `arg1`       | 必传    数字|
| `arg2`       | 必传    数字 |
| `decimals`       | 可选、保留小数位数，正整数，如果没有传，保留原始位数      |

示例
```$xslt
0.121/0.11 // 1.0999999999999999
mathUtil.accDiv(0.121, 0.11) // 1.1
```
- accAdd(加法)

| 参数              | 描述                      |
| ----------------- | -------------------------| 
| `arg1`       | 必传    数字|
| `arg2`       | 必传    数字|

示例
```$xslt
0.1 + 0.2  // 0.30000000000000004
mathUtil.accAdd(0.1, 0.2) // 0.3
```
- accSub(减法)

| 参数              | 描述                      |
| ----------------- | -------------------------| 
| `arg1`       | 必传    数字|
| `arg2`       | 必传    数字 |

示例
```$xslt
0.3 - 0.1 // 0.19999999999999998
mathUtil.accSub(0.3, 0.1) // 0.2
```
- toFixed(四舍五入指定小数位)

| 参数              | 描述                      |
| ----------------- | -------------------------| 
| `num`       | 必传    数字|
| `length`     | 必传    保留小数位数，正整数 |

示例
```$xslt
1.335.toFixed(2) // 1.33
mathUtil.toFixed(1.335, 2) //1.34
```

**[测试用例地址](../test/mathUtil.js)**

npm install 依赖包安装完后，进入到项目路径中，执行以下命令可以运行测试脚本
```$xslt
babel-node test/mathUtil.js
```
>为什么要使用`babel-node`?而不是使用`nodejs`直接运行，
>`nodejs`采用的是`CommonJS`的模块化规范，使用`require`引入模块；
>而`import`是ES6的模块化规范关键字。想要使用`import`，必须引入`babel`转义支持，
>通过`babel`进行编译，使其变成node的模块化代码。
 
**[精度丢失问题](precision.md)**
